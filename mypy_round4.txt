src/codestory/llm/metrics.py:164: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/llm/metrics.py:202: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/ingestion_pipeline/utils.py:33: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:38: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:47: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:55: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:60: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:69: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:75: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:80: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:95: error: No return value expected  [return-value]
src/codestory/ingestion_pipeline/utils.py:96: error: "_get_or_create_counter" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:97: error: "_get_or_create_counter" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:98: error: "_get_or_create_histogram" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:99: error: "_get_or_create_gauge" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:179: error: Library stubs not installed for "pkg_resources"  [import-untyped]
src/codestory/ingestion_pipeline/utils.py:179: note: Hint: "python3 -m pip install types-setuptools"
src/codestory/ingestion_pipeline/utils.py:179: note: (or run "mypy --install-types" to install all missing stub packages)
src/codestory/graphdb/metrics.py:50: error: Returning Any from function declared to return "DummyHistogram"  [no-any-return]
src/codestory/graphdb/metrics.py:60: error: Argument 1 to "contextmanager" has incompatible type "Callable[[Any], None]"; expected "Callable[[Any], Iterator[Never]]"  [arg-type]
src/codestory/graphdb/metrics.py:61: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
src/codestory/graphdb/metrics.py:126: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/metrics.py:132: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_summarizer/models.py:140: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_service/domain/ingestion.py:123: error: Returning Any from function declared to return "IngestionRequest"  [no-any-return]
src/codestory_service/domain/ingestion.py:208: error: Returning Any from function declared to return "IngestionJob"  [no-any-return]
src/codestory_service/domain/config.py:65: error: Returning Any from function declared to return "bool"  [no-any-return]
src/codestory_service/domain/config.py:70: error: Returning Any from function declared to return "ConfigItem"  [no-any-return]
src/codestory_service/domain/config.py:169: error: Returning Any from function declared to return "ConfigSchema"  [no-any-return]
src/codestory_docgrapher/models.py:132: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory/llm/models.py:180: error: Returning Any from function declared to return "LLMConfiguration"  [no-any-return]
src/codestory/graphdb/models.py:47: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/graphdb/models.py:66: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_summarizer/utils/progress_tracker.py:50: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_summarizer/utils/progress_tracker.py:58: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_summarizer/utils/progress_tracker.py:72: error: Returning Any from function declared to return "float | None"  [no-any-return]
src/codestory_docgrapher/utils/progress_tracker.py:62: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_docgrapher/utils/progress_tracker.py:70: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_docgrapher/utils/progress_tracker.py:84: error: Returning Any from function declared to return "float | None"  [no-any-return]
src/codestory_docgrapher/parsers/parser_factory.py:64: error: Returning Any from function declared to return "Parser | None"  [no-any-return]
src/codestory/llm/backoff.py:26: error: Item "None" of "Future | None" has no attribute "exception"  [union-attr]
src/codestory/llm/backoff.py:37: error: Item "None" of "Future | None" has no attribute "exception"  [union-attr]
src/codestory/llm/backoff.py:41: error: Item "None" of "RetryAction | None" has no attribute "sleep"  [union-attr]
src/codestory/llm/backoff.py:67: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/llm/backoff.py:118: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_docgrapher/parsers/docstring_parser.py:56: error: Name "docstrings" already defined on line 50  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:56: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:56: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:266: error: Name "param_section" already defined on line 260  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:266: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:266: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:275: error: Name "param_section" already defined on line 260  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:275: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:275: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:301: error: Name "return_section" already defined on line 295  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:301: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:301: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:310: error: Name "return_section" already defined on line 295  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:310: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:310: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:336: error: Name "raises_section" already defined on line 330  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:336: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:336: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:345: error: Name "raises_section" already defined on line 330  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:345: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:345: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:371: error: Name "example_section" already defined on line 365  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:371: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:371: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:380: error: Name "example_section" already defined on line 365  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:380: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:380: error: Name "redef" is not defined  [name-defined]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "port" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "host" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "workers" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "azure_tenant_id" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "azure_client_id" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "auth_enabled" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "code_story_service_url" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "api_token_issuer" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "api_audience" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "required_scopes" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "cors_origins" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "enable_grpc" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "prometheus_metrics_path" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "enable_opentelemetry" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "openapi_url" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "docs_url" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "redoc_url" for "MCPSettings"  [call-arg]
src/codestory_mcp/utils/config.py:80: error: Missing named argument "debug" for "MCPSettings"  [call-arg]
src/codestory/config/settings.py:87: error: Returning Any from function declared to return "IngestionSettings"  [no-any-return]
src/codestory_service/settings.py:82: error: Missing named argument "title" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "summary" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "version" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "api_prefix" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "docs_url" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "openapi_url" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "redoc_url" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "cors_origins" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "cors_allow_credentials" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "cors_allow_methods" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "cors_allow_headers" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "auth_enabled" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "jwt_secret" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "jwt_algorithm" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "jwt_expiration" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "websocket_heartbeat" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "rate_limit_enabled" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "rate_limit_requests" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "rate_limit_window" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "metrics_enabled" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "metrics_route" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "dev_mode" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "max_request_size" for "ServiceSettings"  [call-arg]
src/codestory_service/settings.py:82: error: Missing named argument "response_timeout" for "ServiceSettings"  [call-arg]
src/codestory_mcp/auth/scope_manager.py:22: error: Returning Any from function declared to return "list[str]"  [no-any-return]
src/codestory_mcp/auth/scope_manager.py:49: error: Returning Any from function declared to return "bool"  [no-any-return]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "str"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Callable[[], str] | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "float | Timeout | NotGiven | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "int"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, str] | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, object] | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Client | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "bool"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "str"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Callable[[], str | Awaitable[str]] | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "float | Timeout | NotGiven | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "int"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, str] | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, object] | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "AsyncClient | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "bool"  [arg-type]
src/codestory/llm/client.py:227: error: No return value expected  [return-value]
src/codestory/graphdb/neo4j_connector.py:20: error: Name "get_settings" already defined (possibly by an import)  [no-redef]
src/codestory/graphdb/neo4j_connector.py:82: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:191: error: Returning Any from function declared to return "Neo4jConnector"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:432: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:521: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:529: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:556: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:557: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:38: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:40: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:42: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:44: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:46: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_service/infrastructure/openai_adapter.py:175: error: Argument "role" to "ChatMessage" has incompatible type "str"; expected "ChatRole"  [arg-type]
src/codestory_service/infrastructure/msal_validator.py:56: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_service/infrastructure/msal_validator.py:62: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_service/application/config_service.py:50: error: Missing return statement  [return]
src/codestory_service/application/config_service.py:56: error: Incompatible types in assignment (expression has type "Redis", variable has type "None")  [assignment]
src/codestory_service/application/config_service.py:57: error: Name "attr" is not defined  [name-defined]
src/codestory_service/application/config_service.py:57: note: Error code "name-defined" not covered by "type: ignore" comment
src/codestory_service/application/config_service.py:57: error: Name "defined" is not defined  [name-defined]
src/codestory_service/application/config_service.py:180: error: Returning Any from function declared to return "ConfigDump"  [no-any-return]
src/codestory_mcp/auth/entra_validator.py:71: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_mcp/auth/entra_validator.py:94: error: Name "scopes" already defined on line 90  [no-redef]
src/codestory_filesystem/step.py:12: error: Cannot find implementation or library stub for module named "pathspec"  [import-not-found]
src/codestory_filesystem/step.py:206: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:206: error: Dict entry 2 has incompatible type "str": "float"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:210: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:214: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:225: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:230: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:258: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:263: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:283: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:289: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:307: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_filesystem/step.py:309: error: Untyped decorator makes function "process_filesystem" untyped  [misc]
src/codestory_filesystem/step.py:376: error: Argument 1 to "Neo4jConnector" has incompatible type "**dict[str, str]"; expected "bool"  [arg-type]
src/codestory_filesystem/step.py:594: error: Value of type "object" is not indexable  [index]
src/codestory_filesystem/step.py:599: error: Value of type "object" is not indexable  [index]
src/codestory_filesystem/step.py:604: error: Value of type "object" is not indexable  [index]
src/codestory_docgrapher/utils/path_matcher.py:54: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:65: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:82: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:86: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:89: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:95: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:43: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:45: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:47: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:49: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:51: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:53: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:234: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:252: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:270: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_blarify/step.py:234: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_blarify/step.py:254: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_blarify/step.py:256: error: Untyped decorator makes function "run_blarify" untyped  [misc]
src/codestory_blarify/step.py:301: error: Unpacking a string is disallowed  [misc]
src/codestory_blarify/step.py:302: error: Cannot determine type of "host_path"  [has-type]
src/codestory_blarify/step.py:302: error: Cannot determine type of "container_path"  [has-type]
src/codestory_blarify/step.py:303: error: Cannot determine type of "host_path"  [has-type]
src/codestory_blarify/step.py:303: error: Cannot determine type of "container_path"  [has-type]
src/codestory_blarify/step.py:404: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/ingestion_pipeline/tasks.py:14: error: Incompatible types in assignment (expression has type "None", variable has type Module)  [assignment]
src/codestory/ingestion_pipeline/tasks.py:27: error: Untyped decorator makes function "run_step" untyped  [misc]
src/codestory/ingestion_pipeline/tasks.py:388: error: Untyped decorator makes function "orchestrate_pipeline" untyped  [misc]
src/codestory/ingestion_pipeline/tasks.py:607: error: Untyped decorator makes function "get_job_status" untyped  [misc]
src/codestory/ingestion_pipeline/tasks.py:647: error: Untyped decorator makes function "stop_job" untyped  [misc]
src/codestory_service/infrastructure/celery_adapter.py:103: error: Argument 1 to "int" has incompatible type "int | None"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
src/codestory_service/infrastructure/celery_adapter.py:107: error: Argument 1 to "int" has incompatible type "int | None"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
src/codestory_service/infrastructure/celery_adapter.py:137: error: Argument 1 to "fromtimestamp" of "datetime" has incompatible type "Any | None"; expected "float"  [arg-type]
src/codestory_service/infrastructure/celery_adapter.py:137: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory_service/infrastructure/celery_adapter.py:149: error: Unexpected keyword argument "cpu_percent" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:149: error: Unexpected keyword argument "memory_mb" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:155: error: Unexpected keyword argument "cpu_percent" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:155: error: Unexpected keyword argument "memory_mb" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:159: error: Missing named argument "source" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:159: error: Missing named argument "source_type" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:159: error: Missing named argument "branch" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:159: error: Missing named argument "started_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:159: error: Missing named argument "completed_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:159: error: Missing named argument "duration" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "source" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "source_type" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "branch" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "started_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "completed_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "duration" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:161: error: Missing named argument "steps" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "source" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "source_type" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "branch" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "started_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "completed_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "duration" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:162: error: Missing named argument "steps" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "source" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "source_type" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "branch" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "started_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "completed_at" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "duration" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:185: error: Missing named argument "steps" for "IngestionJob"  [call-arg]
src/codestory_service/infrastructure/celery_adapter.py:208: error: Item "list[JobStatus]" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/infrastructure/celery_adapter.py:208: error: Item "None" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/application/graph_service.py:49: error: Returning Any from function declared to return "QueryResult"  [no-any-return]
src/codestory_service/application/graph_service.py:76: error: Returning Any from function declared to return "VectorResult"  [no-any-return]
src/codestory_service/application/graph_service.py:99: error: Returning Any from function declared to return "PathResult"  [no-any-return]
src/codestory_service/application/graph_service.py:128: error: Argument "query_type" to "CypherQuery" has incompatible type "str"; expected "QueryType"  [arg-type]
src/codestory_service/application/graph_service.py:137: error: Returning Any from function declared to return "AskAnswer"  [no-any-return]
src/codestory_service/application/graph_service.py:161: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_service/application/graph_service.py:181: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
src/codestory_service/application/graph_service.py:186: error: Incompatible types in assignment (expression has type "list[str]", target has type "int")  [assignment]
src/codestory_service/application/graph_service.py:190: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
src/codestory_service/application/graph_service.py:193: error: Argument "query_type" to "CypherQuery" has incompatible type "str"; expected "QueryType"  [arg-type]
src/codestory_service/application/graph_service.py:270: error: Argument "query_type" to "CypherQuery" has incompatible type "str"; expected "QueryType"  [arg-type]
src/codestory_service/application/graph_service.py:274: error: Argument "query_type" to "CypherQuery" has incompatible type "str"; expected "QueryType"  [arg-type]
src/codestory_mcp/adapters/openai_service.py:44: error: Argument "role" to "ChatMessage" has incompatible type "str"; expected "ChatRole"  [arg-type]
src/codestory_mcp/adapters/openai_service.py:46: error: Argument "role" to "ChatMessage" has incompatible type "str"; expected "ChatRole"  [arg-type]
src/codestory_mcp/adapters/openai_service.py:48: error: Argument "role" to "ChatMessage" has incompatible type "str"; expected "ChatRole"  [arg-type]
src/codestory_mcp/adapters/openai_service.py:49: error: Argument "role" to "ChatMessage" has incompatible type "str"; expected "ChatRole"  [arg-type]
src/codestory_mcp/adapters/openai_service.py:55: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_mcp/adapters/openai_service.py:85: error: Argument "role" to "ChatMessage" has incompatible type "str"; expected "ChatRole"  [arg-type]
src/codestory_mcp/adapters/openai_service.py:91: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_mcp/adapters/graph_service.py:97: error: Incompatible return value type (got "MockNode", expected "Node")  [return-value]
src/codestory_mcp/adapters/graph_service.py:167: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
src/codestory_mcp/adapters/graph_service.py:175: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_mcp/adapters/graph_service.py:234: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_mcp/adapters/graph_service.py:289: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_docgrapher/entity_linker.py:145: error: Returning Any from function declared to return "list[str]"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:54: error: Returning Any from function declared to return "type[PipelineStep] | None"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:137: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:159: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:185: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:91: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:100: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:206: error: Incompatible types in assignment (expression has type "list[str]", target has type "str")  [assignment]
src/codestory/cli/client/service_client.py:215: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:252: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:270: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:289: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
src/codestory/cli/client/service_client.py:291: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
src/codestory/cli/client/service_client.py:322: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
src/codestory/cli/client/service_client.py:336: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:354: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:374: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:391: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:405: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:419: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:444: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:495: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory/cli/client/service_client.py:538: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:542: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_summarizer/step.py:153: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_summarizer/step.py:173: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_summarizer/step.py:175: error: Untyped decorator makes function "run_summarizer" untyped  [misc]
src/codestory_service/use_real_adapters.py:110: error: Incompatible types in assignment (expression has type "Callable[[], Coroutine[Any, Any, OpenAIAdapter]]", variable has type "Callable[[], OpenAIAdapter]")  [assignment]
src/codestory_service/application/ingestion_service.py:34: error: Missing return statement  [return]
src/codestory_service/application/ingestion_service.py:40: error: Incompatible types in assignment (expression has type "Redis", variable has type "None")  [assignment]
src/codestory_service/application/ingestion_service.py:41: error: Name "attr" is not defined  [name-defined]
src/codestory_service/application/ingestion_service.py:41: note: Error code "name-defined" not covered by "type: ignore" comment
src/codestory_service/application/ingestion_service.py:41: error: Name "defined" is not defined  [name-defined]
src/codestory_service/application/ingestion_service.py:140: error: Argument "timestamp" to "JobProgressEvent" has incompatible type "Any | None"; expected "float"  [arg-type]
src/codestory_service/application/ingestion_service.py:142: error: Returning Any from function declared to return "IngestionStarted"  [no-any-return]
src/codestory_service/application/ingestion_service.py:166: error: Returning Any from function declared to return "IngestionJob"  [no-any-return]
src/codestory_service/application/ingestion_service.py:189: error: Argument "timestamp" to "JobProgressEvent" has incompatible type "Any | None"; expected "float"  [arg-type]
src/codestory_service/application/ingestion_service.py:191: error: Returning Any from function declared to return "IngestionJob"  [no-any-return]
src/codestory_service/application/ingestion_service.py:223: error: Item "list[JobStatus]" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/application/ingestion_service.py:223: error: Item "None" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/application/ingestion_service.py:259: error: Function is missing a return type annotation  [no-untyped-def]
src/codestory_service/api/health.py:63: error: Incompatible types in assignment (expression has type "list[str]", variable has type "dict[str, Any] | None")  [assignment]
src/codestory_service/api/health.py:89: error: Missing named argument "error_package" for "HealthReport"  [call-arg]
src/codestory_service/api/health.py:92: error: Missing named argument "error_package" for "HealthReport"  [call-arg]
src/codestory_service/api/health.py:180: error: Incompatible types in assignment (expression has type "dict[str, object]", target has type "str")  [assignment]
src/codestory_service/api/health.py:191: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src/codestory_service/api/health.py:216: error: Incompatible types in assignment (expression has type "dict[str, str | None]", target has type "str")  [assignment]
src/codestory_service/api/health.py:218: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src/codestory_service/api/health.py:224: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src/codestory_service/api/health.py:227: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src/codestory_service/api/health.py:230: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src/codestory_service/api/health.py:247: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
src/codestory_service/api/health.py:250: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_service/api/health.py:253: error: No return value expected  [return-value]
src/codestory_service/api/health.py:256: error: No return value expected  [return-value]
src/codestory_service/api/health.py:271: error: No return value expected  [return-value]
src/codestory_service/api/health.py:276: error: No return value expected  [return-value]
src/codestory_service/api/health.py:278: error: Function does not return a value (it only ever returns None)  [func-returns-value]
src/codestory_service/api/health.py:286: error: Argument after ** must be a mapping, not "None"  [arg-type]
src/codestory_service/api/health.py:286: error: Argument after ** must be a mapping, not "dict[str, Collection[str]] | None"  [arg-type]
src/codestory_service/api/health.py:298: error: Missing named argument "error_package" for "HealthReport"  [call-arg]
src/codestory_service/api/auth.py:92: error: Returning Any from function declared to return "UserInfo"  [no-any-return]
src/codestory_service/api/auth.py:92: error: Missing named argument "email" for "UserInfo"  [call-arg]
src/codestory_service/api/auth.py:92: error: Value of type "UserInfo" is not indexable  [index]
src/codestory_service/api/auth.py:92: error: Name "call" is not defined  [name-defined]
src/codestory_service/api/auth.py:92: error: Name "arg" is not defined  [name-defined]
src/codestory_mcp/server.py:48: error: Argument 1 to "EntraValidator" has incompatible type "str | None"; expected "str"  [arg-type]
src/codestory_mcp/server.py:48: error: Argument 2 to "EntraValidator" has incompatible type "str | None"; expected "str"  [arg-type]
src/codestory_mcp/server.py:96: error: Argument 1 to "asynccontextmanager" has incompatible type "Callable[[FastAPI], None]"; expected "Callable[[FastAPI], AsyncIterator[Never]]"  [arg-type]
src/codestory_mcp/server.py:97: error: The return type of an async generator function should be "AsyncGenerator" or one of its supertypes  [misc]
src/codestory_mcp/server.py:123: error: Missing return statement  [empty-body]
src/codestory_mcp/tools/search_graph.py:47: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "list[dict[str, Any]]")  [assignment]
src/codestory_mcp/tools/path_to.py:62: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "list[dict[str, Any]]")  [assignment]
src/codestory_mcp/main.py:53: error: Argument "foreign_pre_chain" to "ProcessorFormatter" has incompatible type "list[object]"; expected "Sequence[Callable[[Any, str, MutableMapping[str, Any]], Mapping[str, Any] | str | bytes | bytearray | tuple[Any, ...]]] | None"  [arg-type]
src/codestory_docgrapher/step.py:147: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/step.py:164: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_docgrapher/step.py:166: error: Untyped decorator makes function "run_docgrapher" untyped  [misc]
src/codestory/cli/commands/service.py:16: error: Name "click" already defined (by an import)  [no-redef]
src/codestory/cli/commands/service.py:627: error: Incompatible types in assignment (expression has type "CompletedProcess[str]", variable has type "CompletedProcess[bytes]")  [assignment]
src/codestory/cli/commands/service.py:642: error: Argument 1 to "split" of "bytes" has incompatible type "str"; expected "Buffer | None"  [arg-type]
src/codestory/cli/commands/service.py:835: error: Incompatible types in assignment (expression has type "CompletedProcess[str]", variable has type "CompletedProcess[bytes]")  [assignment]
src/codestory/cli/commands/service.py:853: error: Argument 1 to "split" of "bytes" has incompatible type "str"; expected "Buffer | None"  [arg-type]
src/codestory/cli/commands/service.py:856: error: If x = b'abc' then f"{x}" or "{}".format(x) produces "b'abc'", not "abc". If this is desired behavior, use f"{x!r}" or "{!r}".format(x). Otherwise, decode the bytes  [str-bytes-safe]
src/codestory/cli/commands/service.py:993: error: Incompatible types in assignment (expression has type "CompletedProcess[str]", variable has type "CompletedProcess[bytes]")  [assignment]
src/codestory/cli/commands/service.py:1010: error: Argument 1 to "split" of "bytes" has incompatible type "str"; expected "Buffer | None"  [arg-type]
src/codestory/cli/commands/service.py:1013: error: If x = b'abc' then f"{x}" or "{}".format(x) produces "b'abc'", not "abc". If this is desired behavior, use f"{x!r}" or "{!r}".format(x). Otherwise, decode the bytes  [str-bytes-safe]
src/codestory/cli/commands/ingest.py:26: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:38: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:40: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:69: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:73: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:88: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:92: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:106: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:110: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:122: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:137: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:147: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:155: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:158: error: "is_docker_running" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:164: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:165: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:168: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:177: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:185: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:239: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:256: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:302: error: Statement is unreachable  [unreachable]
src/codestory/cli/commands/ingest.py:430: error: "is_docker_running" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:438: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:441: error: "setup_repository_mount" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:486: error: No return value expected  [return-value]
src/codestory/cli/commands/ingest.py:487: error: No return value expected  [return-value]
src/codestory/cli/main.py:6: error: Skipping analyzing "click_didyoumean": module is installed, but missing library stubs or py.typed marker  [import-untyped]
src/codestory/cli/main.py:6: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
src/codestory/cli/main.py:35: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/cli/main.py:116: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/cli/main.py:175: error: Cannot assign to a method  [method-assign]
src/codestory/cli/main.py:185: error: Cannot assign to a method  [method-assign]
Found 378 errors in 50 files (checked 128 source files)
