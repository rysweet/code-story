final_cleanup.py:7: error: Function is missing a type annotation  [no-untyped-def]
final_cleanup.py:24: error: Function is missing a return type annotation  [no-untyped-def]
final_cleanup.py:24: note: Use "-> None" if function does not return a value
final_cleanup.py:34: error: Function is missing a return type annotation  [no-untyped-def]
final_cleanup.py:34: note: Use "-> None" if function does not return a value
scripts/auto_ignore_missing_stubs.py:175: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_add_any_annotations.py:20: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_add_any_annotations.py:20: note: Use "-> None" if function does not return a value
scripts/auto_add_any_annotations.py:26: error: Returning Any from function declared to return "FunctionDef"  [no-any-return]
scripts/auto_add_any_annotations.py:30: error: Returning Any from function declared to return "AsyncFunctionDef"  [no-any-return]
scripts/auto_add_any_annotations.py:32: error: Function is missing a type annotation  [no-untyped-def]
scripts/auto_add_any_annotations.py:77: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
scripts/auto_add_any_annotations.py:103: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_add_any_annotations.py:103: note: Use "-> None" if function does not return a value
scripts/auto_add_any_annotations.py:225: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_add_any_annotations.py:225: note: Use "-> None" if function does not return a value
nuclear_mypy_fix.py:40: error: Function is missing a return type annotation  [no-untyped-def]
nuclear_mypy_fix.py:86: error: Function is missing a return type annotation  [no-untyped-def]
nuclear_mypy_fix.py:86: note: Use "-> None" if function does not return a value
scripts/inject_azure_tokens.py:37: error: Function is missing a return type annotation  [no-untyped-def]
scripts/inject_azure_tokens.py:539: error: Function is missing a return type annotation  [no-untyped-def]
scripts/azure_auth_renew.py:149: error: Returning Any from function declared to return "str | None"  [no-any-return]
scripts/auto_remove_unused_ignores.py:26: error: Function is missing a type annotation  [no-untyped-def]
scripts/auto_remove_unused_ignores.py:32: error: Function is missing a type annotation  [no-untyped-def]
scripts/auto_remove_unused_ignores.py:48: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_remove_unused_ignores.py:48: note: Use "-> None" if function does not return a value
scripts/auto_ignore_misc.py:21: error: Function is missing a type annotation  [no-untyped-def]
scripts/auto_ignore_misc.py:36: error: Function is missing a type annotation  [no-untyped-def]
scripts/auto_ignore_misc.py:77: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_ignore_misc.py:77: note: Use "-> None" if function does not return a value
scripts/auto_ignore_attr_defined.py:118: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_ignore_attr_defined.py:118: note: Use "-> None" if function does not return a value
scripts/auto_ignore_assignment_errors.py:23: error: Need type annotation for "errors" (hint: "errors: dict[<type>, <type>] = ...")  [var-annotated]
scripts/auto_ignore_assignment_errors.py:112: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_ignore_assignment_errors.py:112: note: Use "-> None" if function does not return a value
scripts/auto_annotate_return_types.py:27: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_annotate_return_types.py:27: note: Use "-> None" if function does not return a value
scripts/auto_annotate_return_types.py:55: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
scripts/auto_annotate_return_types.py:68: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
scripts/auto_annotate_return_types.py:176: error: Function is missing a return type annotation  [no-untyped-def]
scripts/auto_annotate_return_types.py:176: note: Use "-> None" if function does not return a value
src/codestory/llm/metrics.py:164: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/llm/metrics.py:202: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/ingestion_pipeline/utils.py:96: error: "_get_or_create_counter" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:97: error: "_get_or_create_counter" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:98: error: "_get_or_create_histogram" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/ingestion_pipeline/utils.py:99: error: "_get_or_create_gauge" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/graphdb/metrics.py:50: error: Returning Any from function declared to return "DummyHistogram"  [no-any-return]
src/codestory/graphdb/metrics.py:60: error: Unused "type: ignore" comment  [unused-ignore]
src/codestory/graphdb/metrics.py:60: error: Argument 1 to "contextmanager" has incompatible type "Callable[[Any], None]"; expected "Callable[[Any], Iterator[Never]]"  [arg-type]
src/codestory/graphdb/metrics.py:60: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory/graphdb/metrics.py:61: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
src/codestory/graphdb/metrics.py:126: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/metrics.py:132: error: Returning Any from function declared to return "None"  [no-any-return]
tests/unit/test_llm/test_metrics.py:8: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_docker_connectivity.py:13: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_demos/test_mcp_demo.py:17: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_demos/test_cli_demo.py:15: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_demos/test_gui_demo.py:17: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
src/codestory_summarizer/models.py:140: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_service/domain/ingestion.py:123: error: Returning Any from function declared to return "IngestionRequest"  [no-any-return]
src/codestory_service/domain/ingestion.py:208: error: Returning Any from function declared to return "IngestionJob"  [no-any-return]
src/codestory_service/domain/config.py:65: error: Returning Any from function declared to return "bool"  [no-any-return]
src/codestory_service/domain/config.py:70: error: Returning Any from function declared to return "ConfigItem"  [no-any-return]
src/codestory_service/domain/config.py:169: error: Returning Any from function declared to return "ConfigSchema"  [no-any-return]
src/codestory_docgrapher/models.py:132: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory/llm/models.py:180: error: Returning Any from function declared to return "LLMConfiguration"  [no-any-return]
src/codestory/graphdb/models.py:47: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/graphdb/models.py:66: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
tests/unit/test_llm/test_llm_models.py:24: error: Statement is unreachable  [unreachable]
tests/unit/test_llm/test_llm_models.py:46: error: Argument 1 to "ChatMessage" has incompatible type "**dict[str, str]"; expected "ChatRole"  [arg-type]
tests/unit/test_llm/test_llm_models.py:73: error: Item "None" of "ChatFunctionCall | None" has no attribute "name"  [union-attr]
tests/unit/test_llm/test_llm_models.py:203: error: Item "None" of "UsageInfo | None" has no attribute "total_tokens"  [union-attr]
tests/unit/test_llm/test_llm_models.py:225: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
tests/unit/test_graphdb/test_models.py:30: error: Statement is unreachable  [unreachable]
tests/unit/test_graphdb/test_models.py:42: error: Statement is unreachable  [unreachable]
tests/unit/test_codestory_service/test_domain_models.py:69: error: List item 0 has incompatible type "dict[str, object]"; expected "ConfigPatchItem"  [list-item]
tests/unit/test_codestory_service/test_domain_models.py:69: error: List item 1 has incompatible type "dict[str, str]"; expected "ConfigPatchItem"  [list-item]
tests/unit/test_codestory_service/test_domain_models.py:115: error: Unsupported right operand type for in ("dict[str, Any] | None")  [operator]
tests/unit/test_codestory_service/test_domain_models.py:116: error: Unsupported right operand type for in ("list[str] | None")  [operator]
src/codestory_summarizer/utils/progress_tracker.py:50: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_summarizer/utils/progress_tracker.py:58: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_summarizer/utils/progress_tracker.py:72: error: Returning Any from function declared to return "float | None"  [no-any-return]
src/codestory_docgrapher/utils/progress_tracker.py:62: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_docgrapher/utils/progress_tracker.py:70: error: Returning Any from function declared to return "float"  [no-any-return]
src/codestory_docgrapher/utils/progress_tracker.py:84: error: Returning Any from function declared to return "float | None"  [no-any-return]
src/codestory_docgrapher/parsers/parser_factory.py:64: error: Returning Any from function declared to return "Parser | None"  [no-any-return]
src/codestory/llm/backoff.py:26: error: Item "None" of "Future | None" has no attribute "exception"  [union-attr]
src/codestory/llm/backoff.py:37: error: Item "None" of "Future | None" has no attribute "exception"  [union-attr]
src/codestory/llm/backoff.py:41: error: Item "None" of "RetryAction | None" has no attribute "sleep"  [union-attr]
src/codestory/llm/backoff.py:67: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/llm/backoff.py:118: error: Returning Any from function declared to return "None"  [no-any-return]
tests/unit/test_llm/test_backoff.py:11: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_llm/test_backoff.py:142: error: "RateLimitError" has no attribute "headers"  [attr-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:56: error: Name "docstrings" already defined on line 50  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:56: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:56: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:266: error: Name "param_section" already defined on line 260  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:266: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:266: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:275: error: Name "param_section" already defined on line 260  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:275: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:275: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:301: error: Name "return_section" already defined on line 295  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:301: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:301: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:310: error: Name "return_section" already defined on line 295  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:310: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:310: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:336: error: Name "raises_section" already defined on line 330  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:336: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:336: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:345: error: Name "raises_section" already defined on line 330  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:345: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:345: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:371: error: Name "example_section" already defined on line 365  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:371: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:371: error: Name "redef" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:380: error: Name "example_section" already defined on line 365  [no-redef]
src/codestory_docgrapher/parsers/docstring_parser.py:380: error: Name "no" is not defined  [name-defined]
src/codestory_docgrapher/parsers/docstring_parser.py:380: error: Name "redef" is not defined  [name-defined]
src/codestory/config/settings.py:87: error: Returning Any from function declared to return "IngestionSettings"  [no-any-return]
tests/integration/test_config.py:58: error: Argument "api_key" to "OpenAISettings" has incompatible type "str"; expected "SecretStr | None"  [arg-type]
tests/integration/test_config.py:67: error: Argument "api_key" to "AzureOpenAISettings" has incompatible type "str"; expected "SecretStr | None"  [arg-type]
tests/integration/test_ingestion_pipeline/test_filesystem_direct.py:22: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_filesystem_direct.py:124: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_filesystem_direct.py:157: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_filesystem_direct.py:167: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory_mcp/auth/scope_manager.py:22: error: Returning Any from function declared to return "list[str]"  [no-any-return]
src/codestory_mcp/auth/scope_manager.py:49: error: Returning Any from function declared to return "bool"  [no-any-return]
src/codestory/llm/client.py:197: error: Unused "type: ignore" comment  [unused-ignore]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "str"  [arg-type]
src/codestory/llm/client.py:197: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Callable[[], str] | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "float | Timeout | NotGiven | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "int"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, str] | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, object] | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Client | None"  [arg-type]
src/codestory/llm/client.py:197: error: Argument 1 to "AzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "bool"  [arg-type]
src/codestory/llm/client.py:199: error: Unused "type: ignore" comment  [unused-ignore]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "str"  [arg-type]
src/codestory/llm/client.py:199: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Callable[[], str | Awaitable[str]] | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "float | Timeout | NotGiven | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "int"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, str] | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "Mapping[str, object] | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "AsyncClient | None"  [arg-type]
src/codestory/llm/client.py:199: error: Argument 1 to "AsyncAzureOpenAI" has incompatible type "**dict[str, Any | str | None]"; expected "bool"  [arg-type]
src/codestory/graphdb/neo4j_connector.py:20: error: Name "get_settings" already defined (possibly by an import)  [no-redef]
src/codestory/graphdb/neo4j_connector.py:82: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:191: error: Returning Any from function declared to return "Neo4jConnector"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:432: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:521: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:529: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:556: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/graphdb/neo4j_connector.py:557: error: Returning Any from function declared to return "None"  [no-any-return]
scripts/check_env.py:26: error: Function is missing a return type annotation  [no-untyped-def]
scripts/check_env.py:40: error: Function is missing a return type annotation  [no-untyped-def]
scripts/check_env.py:82: error: Function is missing a return type annotation  [no-untyped-def]
scripts/check_env.py:146: error: Function is missing a return type annotation  [no-untyped-def]
tests/conftest.py:78: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/conftest.py:96: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_llm/test_client.py:12: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_llm/test_client.py:18: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_llm/test_client.py:35: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_llm/test_client.py:130: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_llm/test_client.py:177: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:178: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:179: error: Item "None" of "UsageInfo | None" has no attribute "total_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:198: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:199: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:200: error: Item "None" of "UsageInfo | None" has no attribute "total_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:242: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_llm/test_client.py:250: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:251: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
tests/unit/test_llm/test_client.py:252: error: Item "None" of "UsageInfo | None" has no attribute "total_tokens"  [union-attr]
tests/unit/test_graphdb/test_schema.py:20: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_graphdb/test_connector.py:36: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_graphdb/test_connector.py:44: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_graphdb/test_connector.py:99: error: Need type annotation for "params_list"  [var-annotated]
tests/unit/test_config/test_settings_imports.py:61: error: Item "None" of "SecretStr | None" has no attribute "get_secret_value"  [union-attr]
tests/integration/conftest.py:72: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/conftest.py:155: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/conftest.py:187: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/conftest.py:208: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_llm/conftest.py:43: error: Incompatible types in assignment (expression has type "str | None", variable has type "str")  [assignment]
tests/integration/test_ingestion_pipeline/test_pipeline_manager.py:14: error: Need type annotation for "steps_status" (hint: "steps_status: dict[<type>, <type>] = ...")  [var-annotated]
tests/integration/test_ingestion_pipeline/test_pipeline_manager.py:15: error: Need type annotation for "steps_results" (hint: "steps_results: dict[<type>, <type>] = ...")  [var-annotated]
tests/integration/test_ingestion_pipeline/test_pipeline_manager.py:16: error: Need type annotation for "steps_errors" (hint: "steps_errors: dict[<type>, <type>] = ...")  [var-annotated]
tests/integration/test_ingestion_pipeline/test_pipeline_manager.py:17: error: Need type annotation for "dependency_graph" (hint: "dependency_graph: dict[<type>, <type>] = ...")  [var-annotated]
tests/integration/test_ingestion_pipeline/test_pipeline_manager.py:18: error: Need type annotation for "_step_instances" (hint: "_step_instances: dict[<type>, <type>] = ...")  [var-annotated]
tests/integration/test_ingestion_pipeline/test_filesystem_simple.py:18: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_graphdb/test_neo4j_integration.py:164: error: Value of type "Any | None" is not indexable  [index]
tests/integration/test_graphdb/test_neo4j_integration.py:165: error: Value of type "Any | None" is not indexable  [index]
tests/integration/test_graphdb/test_neo4j_integration.py:167: error: Value of type "Any | None" is not indexable  [index]
tests/integration/test_graphdb/test_neo4j_integration.py:168: error: Value of type "Any | None" is not indexable  [index]
tests/integration/test_graphdb/test_neo4j_integration.py:174: error: Value of type "Any | None" is not indexable  [index]
tests/integration/test_graphdb/test_neo4j_integration.py:175: error: Value of type "Any | None" is not indexable  [index]
src/codestory_summarizer/utils/content_extractor.py:38: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:40: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:42: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:44: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_summarizer/utils/content_extractor.py:46: error: Returning Any from function declared to return "dict[str, str | list[str]]"  [no-any-return]
src/codestory_service/infrastructure/openai_adapter.py:175: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/infrastructure/msal_validator.py:56: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_service/infrastructure/msal_validator.py:62: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_service/application/config_service.py:50: error: Missing return statement  [return]
src/codestory_service/application/config_service.py:57: error: Name "attr" is not defined  [name-defined]
src/codestory_service/application/config_service.py:57: note: Error code "name-defined" not covered by "type: ignore" comment
src/codestory_service/application/config_service.py:57: error: Name "defined" is not defined  [name-defined]
src/codestory_service/application/config_service.py:180: error: Returning Any from function declared to return "ConfigDump"  [no-any-return]
src/codestory_mcp/auth/entra_validator.py:71: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_mcp/auth/entra_validator.py:94: error: Name "scopes" already defined on line 90  [no-redef]
src/codestory_filesystem/step.py:12: error: Cannot find implementation or library stub for module named "pathspec"  [import-not-found]
src/codestory_filesystem/step.py:12: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
src/codestory_filesystem/step.py:206: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:206: error: Dict entry 2 has incompatible type "str": "float"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:210: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:214: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "StepStatus | None"  [dict-item]
src/codestory_filesystem/step.py:225: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:230: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:258: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:263: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:283: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:289: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_filesystem/step.py:307: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_filesystem/step.py:309: error: Untyped decorator makes function "process_filesystem" untyped  [misc]
src/codestory_filesystem/step.py:376: error: Unused "type: ignore" comment  [unused-ignore]
src/codestory_filesystem/step.py:376: error: Argument 1 to "Neo4jConnector" has incompatible type "**dict[str, str]"; expected "bool"  [arg-type]
src/codestory_filesystem/step.py:376: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory_filesystem/step.py:594: error: Value of type "object" is not indexable  [index]
src/codestory_filesystem/step.py:599: error: Value of type "object" is not indexable  [index]
src/codestory_filesystem/step.py:604: error: Value of type "object" is not indexable  [index]
src/codestory_docgrapher/utils/path_matcher.py:54: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:65: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:82: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:86: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:89: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/path_matcher.py:95: error: Returning Any from function declared to return "str | None"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:43: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:45: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:47: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:49: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:51: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:53: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:234: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:252: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_docgrapher/utils/content_analyzer.py:270: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_blarify/step.py:234: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_blarify/step.py:254: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_blarify/step.py:256: error: Untyped decorator makes function "run_blarify" untyped  [misc]
src/codestory_blarify/step.py:301: error: Unpacking a string is disallowed  [misc]
src/codestory_blarify/step.py:302: error: Cannot determine type of "host_path"  [has-type]
src/codestory_blarify/step.py:302: error: Cannot determine type of "container_path"  [has-type]
src/codestory_blarify/step.py:303: error: Cannot determine type of "host_path"  [has-type]
src/codestory_blarify/step.py:303: error: Cannot determine type of "container_path"  [has-type]
src/codestory_blarify/step.py:404: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/ingestion_pipeline/tasks.py:27: error: Untyped decorator makes function "run_step" untyped  [misc]
src/codestory/ingestion_pipeline/tasks.py:388: error: Untyped decorator makes function "orchestrate_pipeline" untyped  [misc]
src/codestory/ingestion_pipeline/tasks.py:607: error: Untyped decorator makes function "get_job_status" untyped  [misc]
src/codestory/ingestion_pipeline/tasks.py:647: error: Untyped decorator makes function "stop_job" untyped  [misc]
scripts/test_vector_fallback.py:119: error: "test_vector_fallback_implementation" does not return a value (it only ever returns None)  [func-returns-value]
scripts/test_openai_client_comprehensive.py:53: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
scripts/test_openai_client_comprehensive.py:53: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
scripts/test_openai_client_comprehensive.py:57: error: Item "None" of "str | None" has no attribute "strip"  [union-attr]
scripts/test_openai_client_comprehensive.py:79: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
scripts/test_openai_client_comprehensive.py:79: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
scripts/test_openai_client_comprehensive.py:133: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
scripts/test_openai_client_comprehensive.py:133: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
scripts/test_openai_client_comprehensive.py:137: error: Item "None" of "str | None" has no attribute "strip"  [union-attr]
scripts/test_azure_openai.py:24: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_azure_openai.py:24: note: Use "-> None" if function does not return a value
scripts/test_azure_openai.py:72: error: Item "None" of "UsageInfo | None" has no attribute "prompt_tokens"  [union-attr]
scripts/test_azure_openai.py:73: error: Item "None" of "UsageInfo | None" has no attribute "completion_tokens"  [union-attr]
tests/unit/test_config_writer.py:13: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_config_writer.py:26: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/conftest.py:9: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_auth.py:62: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_auth.py:68: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_filesystem_ingestion_simple.py:17: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_filesystem_ingestion_simple.py:85: error: Need type annotation for "step_params"  [var-annotated]
tests/integration/test_ingestion_pipeline/test_filesystem_integration.py:91: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_filesystem_integration.py:111: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_filesystem_integration.py:141: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_filesystem_integration.py:182: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_filesystem_integration.py:200: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_blarify_integration.py:26: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_blarify_integration.py:44: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_blarify_integration.py:247: error: Statement is unreachable  [unreachable]
tests/integration/test_ingestion_pipeline/test_blarify_integration.py:301: error: Value of type "dict[str, Any] | None" is not indexable  [index]
tests/integration/test_ingestion_pipeline/test_blarify_integration.py:302: error: Value of type "dict[str, Any] | None" is not indexable  [index]
src/codestory_service/infrastructure/celery_adapter.py:103: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/infrastructure/celery_adapter.py:107: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/infrastructure/celery_adapter.py:208: error: Item "list[JobStatus]" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/infrastructure/celery_adapter.py:208: error: Item "None" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/application/graph_service.py:49: error: Returning Any from function declared to return "QueryResult"  [no-any-return]
src/codestory_service/application/graph_service.py:76: error: Returning Any from function declared to return "VectorResult"  [no-any-return]
src/codestory_service/application/graph_service.py:99: error: Returning Any from function declared to return "PathResult"  [no-any-return]
src/codestory_service/application/graph_service.py:128: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/application/graph_service.py:137: error: Returning Any from function declared to return "AskAnswer"  [no-any-return]
src/codestory_service/application/graph_service.py:161: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_service/application/graph_service.py:193: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/application/graph_service.py:270: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/application/graph_service.py:274: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/adapters/openai_service.py:44: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/adapters/openai_service.py:46: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/adapters/openai_service.py:48: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/adapters/openai_service.py:49: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/adapters/openai_service.py:55: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_mcp/adapters/openai_service.py:85: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/adapters/openai_service.py:91: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_mcp/adapters/graph_service.py:175: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_mcp/adapters/graph_service.py:234: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_mcp/adapters/graph_service.py:289: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_docgrapher/entity_linker.py:145: error: Returning Any from function declared to return "list[str]"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:54: error: Returning Any from function declared to return "type[PipelineStep] | None"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:137: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:159: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/ingestion_pipeline/manager.py:185: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:91: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:100: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:215: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:252: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:270: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:289: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
src/codestory/cli/client/service_client.py:291: error: Returning Any from function declared to return "list[dict[str, Any]]"  [no-any-return]
src/codestory/cli/client/service_client.py:336: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:354: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:374: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:391: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:405: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:419: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:444: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:495: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory/cli/client/service_client.py:538: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory/cli/client/service_client.py:542: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
scripts/run_filesystem_test.py:19: error: Function is missing a return type annotation  [no-untyped-def]
scripts/run_filesystem_test.py:19: note: Use "-> None" if function does not return a value
tests/unit/test_ingestion_pipeline/test_manager.py:19: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_ingestion_pipeline/test_manager.py:32: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_ingestion_pipeline/test_manager.py:69: error: Cannot assign to a method  [method-assign]
tests/unit/test_ingestion_pipeline/test_manager.py:69: error: Incompatible types in assignment (expression has type "Callable[[str], Any | None]", variable has type "Callable[[str], type[PipelineStep] | None]")  [assignment]
tests/unit/test_ingestion_pipeline/test_manager.py:74: error: Cannot assign to a method  [method-assign]
tests/unit/test_codestory_service/test_infrastructure.py:78: error: Argument "usage" to "EmbeddingResponse" has incompatible type "dict[str, int]"; expected "UsageInfo"  [arg-type]
tests/unit/test_codestory_service/test_infrastructure.py:244: error: "CeleryAdapter" has no attribute "_run_ingestion_pipeline"  [attr-defined]
tests/unit/test_codestory_service/test_infrastructure.py:325: error: Incompatible types in assignment (expression has type "str", variable has type "None")  [assignment]
tests/unit/test_codestory_mcp/test_adapters.py:82: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_adapters.py:91: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_adapters.py:99: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_adapters.py:132: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:155: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:169: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:187: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:205: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:222: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:253: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_adapters.py:261: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_adapters.py:292: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:315: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:333: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_adapters.py:357: error: Need type annotation for "embed_future"  [var-annotated]
tests/integration/test_ingestion_pipeline/test_pipeline_integration.py:92: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_pipeline_integration.py:108: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_pipeline_integration.py:120: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_pipeline_integration.py:137: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_pipeline_integration.py:188: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory_summarizer/step.py:153: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_summarizer/step.py:173: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_summarizer/step.py:175: error: Untyped decorator makes function "run_summarizer" untyped  [misc]
src/codestory_service/use_real_adapters.py:110: error: Incompatible types in assignment (expression has type "Callable[[], Coroutine[Any, Any, OpenAIAdapter]]", variable has type "Callable[[], OpenAIAdapter]")  [assignment]
src/codestory_service/application/ingestion_service.py:34: error: Missing return statement  [return]
src/codestory_service/application/ingestion_service.py:41: error: Name "attr" is not defined  [name-defined]
src/codestory_service/application/ingestion_service.py:41: note: Error code "name-defined" not covered by "type: ignore" comment
src/codestory_service/application/ingestion_service.py:41: error: Name "defined" is not defined  [name-defined]
src/codestory_service/application/ingestion_service.py:140: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/application/ingestion_service.py:142: error: Returning Any from function declared to return "IngestionStarted"  [no-any-return]
src/codestory_service/application/ingestion_service.py:166: error: Returning Any from function declared to return "IngestionJob"  [no-any-return]
src/codestory_service/application/ingestion_service.py:189: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/application/ingestion_service.py:191: error: Returning Any from function declared to return "IngestionJob"  [no-any-return]
src/codestory_service/application/ingestion_service.py:223: error: Item "list[JobStatus]" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/application/ingestion_service.py:223: error: Item "None" of "list[JobStatus] | None" has no attribute "HTTP_500_INTERNAL_SERVER_ERROR"  [union-attr]
src/codestory_service/application/ingestion_service.py:259: error: Function is missing a return type annotation  [no-untyped-def]
src/codestory_service/api/health.py:247: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
src/codestory_service/api/health.py:250: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory_service/api/health.py:278: error: Function does not return a value (it only ever returns None)  [func-returns-value]
src/codestory_service/api/health.py:286: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_service/api/auth.py:92: error: Returning Any from function declared to return "UserInfo"  [no-any-return]
src/codestory_service/api/auth.py:92: note: Error code "no-any-return" not covered by "type: ignore" comment
src/codestory_service/api/auth.py:92: error: Value of type "UserInfo" is not indexable  [index]
src/codestory_service/api/auth.py:92: note: Error code "index" not covered by "type: ignore" comment
src/codestory_service/api/auth.py:92: error: Name "call" is not defined  [name-defined]
src/codestory_service/api/auth.py:92: note: Error code "name-defined" not covered by "type: ignore" comment
src/codestory_service/api/auth.py:92: error: Name "arg" is not defined  [name-defined]
src/codestory_mcp/server.py:48: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory_mcp/server.py:96: error: Unused "type: ignore" comment  [unused-ignore]
src/codestory_mcp/server.py:96: error: Argument 1 to "asynccontextmanager" has incompatible type "Callable[[FastAPI], None]"; expected "Callable[[FastAPI], AsyncIterator[Never]]"  [arg-type]
src/codestory_mcp/server.py:96: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory_mcp/server.py:97: error: The return type of an async generator function should be "AsyncGenerator" or one of its supertypes  [misc]
src/codestory_mcp/server.py:123: error: Missing return statement  [empty-body]
scripts/test_ingestion_pipeline.py:22: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_ingestion_pipeline.py:124: error: Value of type "PipelineStep" is not indexable  [index]
scripts/run_test_directly.py:18: error: Function is missing a return type annotation  [no-untyped-def]
scripts/run_test_directly.py:46: error: Function is missing a return type annotation  [no-untyped-def]
tests/unit/test_codestory_service/test_application.py:86: error: Incompatible types in assignment (expression has type "AsyncMock", variable has type "None")  [assignment]
tests/unit/test_codestory_service/test_application.py:118: error: List item 0 has incompatible type "dict[str, object]"; expected "ConfigPatchItem"  [list-item]
tests/unit/test_codestory_service/test_application.py:192: error: Incompatible types in assignment (expression has type "AsyncMock", variable has type "None")  [assignment]
tests/unit/test_codestory_mcp/test_tools.py:27: error: Only concrete class can be given where "type[BaseTool]" is expected  [type-abstract]
tests/unit/test_codestory_mcp/test_tools.py:54: error: Only concrete class can be given where "type[BaseTool]" is expected  [type-abstract]
tests/unit/test_codestory_mcp/test_tools.py:55: error: Only concrete class can be given where "type[BaseTool]" is expected  [type-abstract]
tests/unit/test_codestory_mcp/test_tools.py:64: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:72: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:123: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:142: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:154: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:162: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:170: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:204: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:219: error: Need type annotation for "find_node_future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:222: error: Need type annotation for "summary_future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:239: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:247: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:255: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:339: error: Need type annotation for "paths_future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:342: error: Need type annotation for "explanation_future"  [var-annotated]
tests/unit/test_codestory_mcp/test_tools.py:362: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:370: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_tools.py:402: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_server.py:11: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_server.py:27: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_server.py:35: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_server.py:43: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_codestory_mcp/test_server.py:81: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_server.py:96: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_server.py:109: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_server.py:137: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_server.py:165: error: Need type annotation for "future"  [var-annotated]
tests/unit/test_codestory_mcp/test_server.py:185: error: "BaseRoute" has no attribute "path"  [attr-defined]
tests/integration/test_mcp.py:19: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_summarizer_integration.py:84: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_summarizer_integration.py:110: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_summarizer_integration.py:130: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_summarizer_integration.py:141: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_summarizer_integration.py:150: error: Value of type "Any | None" is not indexable  [index]
tests/integration/test_ingestion_pipeline/test_summarizer_integration.py:276: error: "custom_process_filesystem" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:186: error: Cannot assign to a method  [method-assign]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:309: error: Unsupported operand types for * ("object" and "float")  [operator]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:313: error: Unsupported operand types for * ("object" and "float")  [operator]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:317: error: Unsupported operand types for * ("object" and "float")  [operator]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:356: error: Cannot assign to a method  [method-assign]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:520: error: Unsupported operand types for * ("object" and "float")  [operator]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:524: error: Unsupported operand types for * ("object" and "float")  [operator]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:528: error: Unsupported operand types for * ("object" and "float")  [operator]
tests/integration/test_ingestion_pipeline/test_progress_tracking.py:567: error: Cannot assign to a method  [method-assign]
src/codestory_mcp/main.py:53: error: Unused "type: ignore" comment  [unused-ignore]
src/codestory_mcp/main.py:53: error: Argument "foreign_pre_chain" to "ProcessorFormatter" has incompatible type "list[object]"; expected "Sequence[Callable[[Any, str, MutableMapping[str, Any]], Mapping[str, Any] | str | bytes | bytearray | tuple[Any, ...]]] | None"  [arg-type]
src/codestory_mcp/main.py:53: note: Error code "arg-type" not covered by "type: ignore" comment
src/codestory_docgrapher/step.py:147: error: Returning Any from function declared to return "dict[str, Any]"  [no-any-return]
src/codestory_docgrapher/step.py:164: error: Returning Any from function declared to return "str"  [no-any-return]
src/codestory_docgrapher/step.py:166: error: Untyped decorator makes function "run_docgrapher" untyped  [misc]
tests/unit/test_codestory_service/test_api.py:133: error: List item 0 has incompatible type "dict[str, object]"; expected "ConfigPatchItem"  [list-item]
tests/unit/test_cli/test_service_client.py:170: error: Cannot assign to a method  [method-assign]
tests/unit/test_cli/test_service_client.py:184: error: Cannot assign to a method  [method-assign]
tests/unit/test_cli/test_service_client.py:192: error: Cannot assign to a method  [method-assign]
tests/unit/test_cli/test_service_client.py:201: error: Cannot assign to a method  [method-assign]
tests/integration/test_ingestion_pipeline/test_step_dependencies.py:235: error: Statement is unreachable  [unreachable]
tests/integration/test_ingestion_pipeline/test_docgrapher_integration.py:22: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_docgrapher_integration.py:37: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_docgrapher_integration.py:77: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/base_pipeline_test.py:18: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
scripts/test_step_dependencies.py:26: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:67: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:100: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:115: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:119: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:123: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:127: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:132: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:139: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:146: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:153: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:174: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:202: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:202: note: Use "-> None" if function does not return a value
scripts/test_step_dependencies.py:207: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:207: note: Use "-> None" if function does not return a value
scripts/test_step_dependencies.py:246: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:269: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:274: error: Cannot assign to a method  [method-assign]
scripts/test_step_dependencies.py:304: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:327: error: Function is missing a type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:332: error: Cannot assign to a method  [method-assign]
scripts/test_step_dependencies.py:361: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:361: note: Use "-> None" if function does not return a value
scripts/test_step_dependencies.py:417: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:471: error: Function is missing a return type annotation  [no-untyped-def]
scripts/test_step_dependencies.py:471: note: Use "-> None" if function does not return a value
tests/unit/test_codestory_service/test_clear_database.py:20: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_service.py:18: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_config_api.py:18: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_config_api.py:32: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_config_api.py:53: error: Argument 1 to "asynccontextmanager" has incompatible type "Callable[[Any], None]"; expected "Callable[[Any], AsyncIterator[Never]]"  [arg-type]
tests/integration/test_config_api.py:54: error: The return type of an async generator function should be "AsyncGenerator" or one of its supertypes  [misc]
tests/integration/test_ingestion_pipeline/test_full_pipeline_integration.py:19: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
src/codestory/cli/commands/service.py:16: error: Name "click" already defined (by an import)  [no-redef]
src/codestory/cli/commands/service.py:627: error: Incompatible types in assignment (expression has type "CompletedProcess[str]", variable has type "CompletedProcess[bytes]")  [assignment]
src/codestory/cli/commands/service.py:642: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory/cli/commands/service.py:835: error: Incompatible types in assignment (expression has type "CompletedProcess[str]", variable has type "CompletedProcess[bytes]")  [assignment]
src/codestory/cli/commands/service.py:853: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory/cli/commands/service.py:856: error: If x = b'abc' then f"{x}" or "{}".format(x) produces "b'abc'", not "abc". If this is desired behavior, use f"{x!r}" or "{!r}".format(x). Otherwise, decode the bytes  [str-bytes-safe]
src/codestory/cli/commands/service.py:993: error: Incompatible types in assignment (expression has type "CompletedProcess[str]", variable has type "CompletedProcess[bytes]")  [assignment]
src/codestory/cli/commands/service.py:1010: error: Unused "type: ignore[assignment]" comment  [unused-ignore]
src/codestory/cli/commands/service.py:1013: error: If x = b'abc' then f"{x}" or "{}".format(x) produces "b'abc'", not "abc". If this is desired behavior, use f"{x!r}" or "{!r}".format(x). Otherwise, decode the bytes  [str-bytes-safe]
src/codestory/cli/commands/ingest.py:158: error: "is_docker_running" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:165: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:177: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:239: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:256: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:302: error: Statement is unreachable  [unreachable]
src/codestory/cli/commands/ingest.py:430: error: "is_docker_running" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:438: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
src/codestory/cli/commands/ingest.py:441: error: "setup_repository_mount" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_repository_mounting.py:31: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_repository_mounting.py:36: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_repository_mounting.py:51: error: "setup_repository_mount" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_repository_mounting.py:69: error: "setup_repository_mount" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_repository_mounting.py:84: error: "create_override_file" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_cli/test_repository_mounting.py:14: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_cli/test_repository_mounting.py:29: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/integration/test_cli/test_repository_mounting.py:114: error: "IO[str]" has no attribute "getvalue"  [attr-defined]
src/codestory/cli/main.py:35: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/cli/main.py:116: error: Returning Any from function declared to return "None"  [no-any-return]
src/codestory/cli/main.py:175: error: Cannot assign to a method  [method-assign]
src/codestory/cli/main.py:185: error: Cannot assign to a method  [method-assign]
tests/unit/test_cli/test_main.py:10: error: Argument 1 to "contextmanager" has incompatible type "Callable[[], None]"; expected "Callable[[], Iterator[Never]]"  [arg-type]
tests/unit/test_cli/test_main.py:11: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
tests/unit/test_cli/test_main.py:15: error: Cannot assign to a method  [method-assign]
tests/unit/test_cli/test_main.py:18: error: Cannot assign to a method  [method-assign]
tests/unit/test_cli/test_main.py:118: error: Statement is unreachable  [unreachable]
tests/unit/test_cli/test_main.py:119: error: Statement is unreachable  [unreachable]
tests/unit/test_cli/test_commands/test_ingest.py:136: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_ingest.py:147: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_ingest.py:166: error: "setup_repository_mount" does not return a value (it only ever returns None)  [func-returns-value]
tests/unit/test_cli/test_commands/test_ingest.py:181: error: "setup_repository_mount" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_filesystem_ingestion_e2e.py:175: error: Function "builtins.any" is not valid as a type  [valid-type]
tests/integration/test_filesystem_ingestion_e2e.py:175: note: Perhaps you meant "typing.Any" instead of "any"?
tests/integration/test_filesystem_ingestion_e2e.py:189: error: Unsupported operand types for + ("object" and "int")  [operator]
tests/integration/test_filesystem_ingestion_e2e.py:193: error: Unsupported operand types for + ("object" and "int")  [operator]
tests/integration/test_filesystem_ingestion_e2e.py:197: error: Unsupported operand types for + ("object" and "int")  [operator]
tests/integration/test_filesystem_ingestion_e2e.py:212: error: "object" has no attribute "append"  [attr-defined]
tests/integration/test_filesystem_ingestion_e2e.py:225: error: "object" has no attribute "append"  [attr-defined]
tests/integration/test_filesystem_ingestion_e2e.py:254: error: The return type of an async generator function should be "AsyncGenerator" or one of its supertypes  [misc]
tests/integration/test_cli/test_ingest_integration.py:97: error: "is_docker_running" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_cli/test_ingest_integration.py:105: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_cli/test_ingest_integration.py:111: error: "is_docker_running" does not return a value (it only ever returns None)  [func-returns-value]
tests/integration/test_cli/test_ingest_integration.py:120: error: "is_repo_mounted" does not return a value (it only ever returns None)  [func-returns-value]
Found 526 errors in 117 files (checked 247 source files)
